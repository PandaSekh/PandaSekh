<!doctype html><html lang=en><head><title>2D Top-Down Aiming Using the Mouse in Unity3D · Alessio Franceschi</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=color-scheme content="light"><meta name=author content="Alessio Franceschi"><meta name=description content="Tutorial on how to rotate a sprite to make it face the mouse cursor. Useful for aiming in top-down shooters."><meta name=keywords content="blog,developer,personal"><meta name=twitter:card content="summary"><meta name=twitter:title content="2D Top-Down Aiming Using the Mouse in Unity3D"><meta name=twitter:description content="Tutorial on how to rotate a sprite to make it face the mouse cursor. Useful for aiming in top-down shooters."><meta property="og:title" content="2D Top-Down Aiming Using the Mouse in Unity3D"><meta property="og:description" content="Tutorial on how to rotate a sprite to make it face the mouse cursor. Useful for aiming in top-down shooters."><meta property="og:type" content="article"><meta property="og:url" content="https://PandaSekh.github.io/alessiofranceschiDOTdev/posts/unity2d-make-a-sprite-face-the-mouse-cursor/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2020-04-02T00:00:00+00:00"><meta property="article:modified_time" content="2020-04-02T00:00:00+00:00"><link rel=canonical href=https://PandaSekh.github.io/alessiofranceschiDOTdev/posts/unity2d-make-a-sprite-face-the-mouse-cursor/><link rel=stylesheet href=/alessiofranceschiDOTdev/css/coder.min.c4d7e93a158eda5a65b3df343745d2092a0a1e2170feeec909b8a89443903c6a.css integrity="sha256-xNfpOhWO2lpls980N0XSCSoKHiFw/u7JCbiolEOQPGo=" crossorigin=anonymous media=screen><link rel=icon type=image/png href=/images/favicon.png sizes=32x32><link rel=icon type=image/png href=/images/favicon.png sizes=16x16><link rel=apple-touch-icon href=/images/apple-touch-icon.png><link rel=apple-touch-icon sizes=180x180 href=/images/apple-touch-icon.png><link rel=mask-icon href=/images/safari-pinned-tab.svg color=#5bbad5><meta name=generator content="Hugo 0.102.3"></head><body class="preload-transitions colorscheme-light"><main class=wrapper><nav class=navigation><section class=container><a class=navigation-title href=/alessiofranceschiDOTdev>Alessio Franceschi</a>
<input type=checkbox id=menu-toggle>
<label class="menu-button float-right" for=menu-toggle><i class="fa fa-bars fa-fw" aria-hidden=true></i></label><ul class=navigation-list><li class=navigation-item><a class=navigation-link href=/alessiofranceschiDOTdev/posts/>Blog</a></li><li class=navigation-item><a class=navigation-link href=/alessiofranceschiDOTdev/about/>About</a></li></ul></section></nav><div class=content><section class="container post"><article><header><div class=post-title><h1 class=title><a class=title-link href=https://PandaSekh.github.io/alessiofranceschiDOTdev/posts/unity2d-make-a-sprite-face-the-mouse-cursor/>2D Top-Down Aiming Using the Mouse in Unity3D</a></h1></div><div class=post-meta><div class=date><span class=posted-on><i class="fa fa-calendar" aria-hidden=true></i>
<time datetime=2020-04-02T00:00:00Z>April 2, 2020</time></span>
<span class=reading-time><i class="fa fa-clock-o" aria-hidden=true></i>
2-minute read</span></div><div class=categories><i class="fa fa-folder" aria-hidden=true></i>
<a href=/alessiofranceschiDOTdev/categories/unity/>Unity</a>
<span class=separator>•</span>
<a href=/alessiofranceschiDOTdev/categories/c/>C#</a>
<span class=separator>•</span>
<a href=/alessiofranceschiDOTdev/categories/game-design/>Game Design</a></div></div></header><div><p>Hello,
in this short (and first!) post on this blog I would like to show you how to make a sprite face the mouse cursor. This is quite useful for aiming in top-down shooters and similar games.
You can see an example of this in this gif.</p><div><h2>Table Of Contents</h2><nav id=TableOfContents><ul><li><ul><li><a href=#the-code>The code</a></li><li><a href=#explaining-the-code>Explaining the code</a></li></ul></li></ul></nav></div><p>{{ &lt; gif src="/video/rotation.webm" type=&ldquo;video/webm&rdquo; preload=&ldquo;auto&rdquo; >}}</p><p>Now let&rsquo;s talk about the code. I tried various solutions found on the web, but most of them don&rsquo;t work, work sometimes or work badly. Luckily the easiest solution is also the best one! I found it on <a href="https://www.youtube.com/watch?v=_XdqA3xbP2A">YouTube</a> and it is made by Danndx.</p><h3 id=the-code>The code
<a class=heading-link href=#the-code><i class="fa fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h3><p>Here&rsquo;s the full code:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cs data-lang=cs><span style=display:flex><span>Vector3 mousePosition = <span style=color:#66d9ef>new</span> Vector3 (Camera.main.ScreenToWorldPoint(Input.mousePosition));
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Vector2 directionToLookAt = <span style=color:#66d9ef>new</span> Vector2(
</span></span><span style=display:flex><span>    mousePosition.x - transform.position.x,
</span></span><span style=display:flex><span>    mousePosition.y - transform.position.y
</span></span><span style=display:flex><span>    );
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>transform.up = directionToLookAt;
</span></span></code></pre></div><p>If you are in a hurry you can just copy-paste this code into a script on the object you want to rotate and then call it in the function Update.
But what does this code actually do?</p><h3 id=explaining-the-code>Explaining the code
<a class=heading-link href=#explaining-the-code><i class="fa fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cs data-lang=cs><span style=display:flex><span>Vector3 mousePosition = <span style=color:#66d9ef>new</span> Vector3 (Camera.main.ScreenToWorldPoint(Input.mousePosition));
</span></span></code></pre></div><p>Here we get the current mouse position, we translate it into &ldquo;world coordinates&rdquo;, which are actually usable, and then store it in a Vector3 variable.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cs data-lang=cs><span style=display:flex><span>Vector2 directionToLookAt = <span style=color:#66d9ef>new</span> Vector2(
</span></span><span style=display:flex><span>    mousePosition.x - transform.position.x,
</span></span><span style=display:flex><span>    mousePosition.y - transform.position.y
</span></span><span style=display:flex><span>    );
</span></span></code></pre></div><p>Create a new Vector2 and store the difference between the mouse position and the object position. We don&rsquo;t actually need the z axis, so we won&rsquo;t use a Vector3 this time.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cs data-lang=cs><span style=display:flex><span>transform.up = directionToLookAt;
</span></span></code></pre></div><p><a href=https://docs.unity3d.com/ScriptReference/Transform-up.html>transform.up</a> <em>&ldquo;Manipulates a GameObject’s position on the Y axis (green axis) of the transform in world space&rdquo;</em>, according to Unity&rsquo;s Docs.
Basically, we rotate the Y axis of the object.</p><p>That&rsquo;s all!</p></div></article></section></div><footer class=footer><section class=container>©
2022
Alessio Franceschi
·
Powered by <a href=https://gohugo.io/>Hugo</a> & <a href=https://github.com/PandaSekh/hugo-coder-lt>Coder-Lt</a>.</section></footer></main></body></html>